<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Jogo do Snake</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const canvas = document.querySelector("canvas");
            const canvasCtx = canvas.getContext("2d");

            const box = 32;

            const snake = [];
            snake[0] = {x: 256, y: 256};

            const groundImg = new Image ();
            groundImg.src = "images/ground.png"

            const foodImg = new Image ();
            foodImg.src = "images/food.png"

            setInterval(function() {
                canvasCtx.drawImage(groundImg, 0, 0);

                canvasCtx.drawImage(foodImg, 128, 128);

                canvasCtx.fillStyle = "#FFF";

                canvasCtx.fillRect(snake[0].x, snake[0].y, box, box);

                canvasCtx.strokeStyle = "#F00";
                canvasCtx.strokeRect(snake[0].x, snake[0].y, box, box);
        
            }, 100);

            document.addEventListener("keydown", (e) => {
                let snakeX = snake[0].x;
                let snakeY = snake[0].y;

                if ( e.keyCode === 37) {
                    snakeX -= box;
                } 
                if (e.keyCode === 38 ) {
                    snakeY -= box;
                }
                if (e.keyCode === 39 ) {
                    snakeX += box;
                }
                if (e.keyCode === 40 ) {
                    snakeY += box;
                }

                /*Verificação de game over*/

                if(snakeX < box || snakeY < box*3 || snakeX > box*17 || snakeY > box*17 ) {
                    alert("GAME OVER");

                }
                snake.unshift({x: snakeX, y: snakeY});
            });


        })
    </script>
</head>
<body>
    <main>
        <canvas width="608" height="608"></canvas>
    </main>
</body>
</html>